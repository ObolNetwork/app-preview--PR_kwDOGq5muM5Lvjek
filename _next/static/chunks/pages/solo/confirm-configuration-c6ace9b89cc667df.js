(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[666],{22849:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/solo/confirm-configuration",function(){return t(24505)}])},24505:function(e,n,t){"use strict";t.r(n);var r=t(34051),s=t.n(r),i=t(85893),a=t(93445),o=t(71553),c=t(8687),l=t(37274),u=t(87536),d=t(72534),h=t(48847),f=t(2983),x=t(11163),p=t(67294),v=t(23691);function m(e,n,t,r,s,i,a){try{var o=e[i](a),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(r,s)}function g(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var i=e.apply(n,t);function a(e){m(i,r,s,a,o,"next",e)}function o(e){m(i,r,s,a,o,"throw",e)}a(void 0)}))}}var j=function(){var e=(0,d.kR)(),n=e.account,t=e.provider,r=e.chainId,m=(0,u.cI)({mode:"onChange"}).handleSubmit,j=(0,x.useRouter)(),b=(0,p.useState)(),y=b[0],C=b[1],w=(0,p.useState)(!1),k=w[0],S=w[1],_=(0,p.useState)(),N=_[0],T=_[1],E=(0,p.useState)(),$=E[0],z=E[1],A=(0,l.o)((function(e){return e.clusterDefinition}));console.log(JSON.stringify(A.nonOperatorFlag),"currentClusterDatacurrentClusterData");var I=(0,l.o)((function(e){return e.setClusterDefinitionData})),D=(0,l.o)((function(e){return e.completeSoloStep})),H=(0,l.o)((function(e){return e.enableSoloStep})),O=function(e){console.log(e),C(null),T(null),z(null),S(!1)};if((0,p.useEffect)((function(){if(y){var e=function(){var e=g(s().mark((function e(){var i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={creator_config_hash:y.config_hash},e.next=3,(0,h.L6)(t,r,n,i);case 3:a=e.sent,z(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[y]),(0,p.useEffect)((function(){if($&&y){var e=function(){var e=g(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.c0)({token:$,data:y});case 2:if((n=e.sent).data.config_hash){e.next=5;break}throw"no config hash returned";case 5:T(n.data.config_hash),I(n.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch(O)}}),[$,y]),(0,p.useEffect)((function(){if(N){D("confirm-configuration");var e=H("create-cluster");S(!1),j.push({pathname:e.href,query:{configHash:N}})}}),[N]),!A)return(0,i.jsx)(o.xv,{children:"No cluster data ..."});var M=function(){var e=g(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,h.KH)(A,v.q4.LATEST,n),C(t),S(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=(0,h.zT)(A.clusterSize);return(0,i.jsxs)(a.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,i.jsx)(o.xv,{variant:"h3",children:"Confirm Configuration"}),(0,i.jsx)(a.l0,{onSubmit:m(M),children:(0,i.jsxs)(a.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,i.jsx)(o.W2,{className:"cluster-details",alignItems:"start",children:(0,i.jsxs)(a.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,i.jsx)(o.xv,{variant:"h4",children:"Cluster Details"}),(0,i.jsxs)(a.kC,{direction:"column",className:"cluster-name-section",css:{gap:"$sm"},children:[(0,i.jsx)(o.xv,{color:"body",variant:"body",children:"These are the group details that you need to review and accept to continue.\xa0"}),(0,i.jsx)(o.xv,{color:"body",variant:"body",children:"The status of each participant will update once they have signed and confirmed the configuration."}),(0,i.jsxs)(a.kC,{css:{gap:"$2xl"},children:[(0,i.jsx)(c.Mz,{heading:"Cluster Name",subHeading:A.name}),(0,i.jsx)(c.Mz,{heading:"Group Size",subHeading:A.clusterSize.toString(),tooltipContent:"Group Size: The number of operators in the cluster. The minimum is 4, for now the maximum is capped at 10."}),(0,i.jsx)(c.Mz,{heading:"Threshold",subHeading:"".concat(P,"/").concat(A.clusterSize),tooltipContent:"Threshold: The number of nodes that need to be functioning for the validator to stay active."})]})]})]})}),(0,i.jsxs)(o.W2,{className:"validators-section",alignItems:"start",children:[(0,i.jsx)(a.kC,{direction:"column",css:{gap:"$xxxs"},children:(0,i.jsx)(o.xv,{variant:"h4",children:"Validators"})}),(0,i.jsxs)(a.kC,{direction:{"@sm":"column"},css:{gap:"$xl",width:"auto"},children:[(0,i.jsx)(c.Mz,{heading:"Validators",subHeading:A.validatorsSize.toString()}),(0,i.jsxs)(a.kC,{direction:"column",css:{gap:"$xs"},children:[(0,i.jsx)(o.xv,{css:{textTransform:"uppercase"},variant:"subline",color:"body",children:"Cost"}),(0,i.jsxs)(a.kC,{css:{gap:"$xxs",height:"100%",alignItems:"center"},children:[(0,i.jsx)(o.Ee,{src:"/assets/eth-icon.svg",alt:"eth",width:24,height:24}),(0,i.jsxs)(o.xv,{css:{textTransform:"uppercase"},variant:"h5",children:[A.validatorsEthAmount," Eth"]})]})]})]})]}),(0,i.jsx)(o.W2,{className:"withdrawal-section",css:{gap:"$sm"},alignItems:"start",children:(0,i.jsxs)(a.kC,{direction:"column",className:"single-address-section",css:{gap:"$sm"},children:[(0,i.jsx)(o.xv,{variant:"h4",children:"Withdrawal Address"}),(0,i.jsx)(o.xv,{color:"body",variant:"body",children:"Address to receive validator principal and rewards at exit"}),(0,i.jsx)(o.nv,{color:"obolGreen",readOnly:!0,value:A.singleAddress})]})}),(0,i.jsx)(o.W2,{className:"fee-recipient-section",css:{gap:"$sm"},alignItems:"start",children:(0,i.jsxs)(a.kC,{direction:"column",className:"fee-recipient-address-section",css:{gap:"$sm"},children:[(0,i.jsx)(o.xv,{variant:"h4",children:"Fee Recipient Address"}),(0,i.jsx)(o.xv,{color:"body",variant:"body",children:"Enter the Fee Recipient Address to receive MEV rewards (if enabled), and block proposal priority fees."}),(0,i.jsx)(o.nv,{color:"obolGreen",readOnly:!0,value:A.feeRecipientAddress})]})}),(0,i.jsx)(a.kC,{direction:"column",children:(0,i.jsx)(o.zx,{color:"primary",type:"submit",css:{"& div":{m:0}},children:(0,i.jsxs)(i.Fragment,{children:[k&&(0,i.jsx)(o.yC,{}),"Confirm and Sign"]})})})]})})]})};n.default=j,j.layout="SoloProgressTrackerLayout"}},function(e){e.O(0,[774,888,179],(function(){return n=22849,e(e.s=n);var n}));var n=e.O();_N_E=n}]);